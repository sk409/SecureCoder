{
    "index": 2,
    "fileName": "change_password.php",
    "explainers": [
        {
            "questionIndices": [],
            "focusLabels": [],
            "focusComponents": [
            ],
            "messages": [
                {
                    "text": "change_password.phpではPOSTリクエストで受け取った現在のパスワードと$_SESSIONに保存されているユーザIDから認証を行い、認証に成功すればパスワードの変更を実行します。",
                    "languages": ["php"]
                }
            ]
        },
        {
            "questionIndices": [],
            "focusLabels": [],
            "focusComponents": [
                [
                    3
                ]
            ],
            "messages": [
                {
                    "text": "このchange_password.phpでもauth.phpを使用するため、読み込んでいます。",
                    "languages": []
                }
            ]
        },
        {
            "questionIndices": [],
            "focusLabels": [],
            "focusComponents": [
                [
                    5
                ]
            ],
            "messages": [
                {
                    "text": "この赤枠で囲まれた部分で$_SESSIONに格納されているユーザIDを取得しています。",
                    "languages": ["php"]
                }
            ]
        },
        {
            "questionIndices": [],
            "focusLabels": [],
            "focusComponents": [
                [
                    7, 8, 9
                ]
            ],
            "messages": [
                {
                    "text": "問題が含まれているため空欄がありますが、この赤枠で囲まれた部分でPOSTリクエストで受け取った現在のパスワードを取得しています。",
                    "languages": ["php"]
                },
                {
                    "text": "この部分をコーディングしてみましょう。",
                    "languages": []
                },
                {
                    "text": "具体的には先ほどみた<form>要素で送信していた<input type=\"password\" name=\"password\">の値を取得します。",
                    "languages": ["html"]
                }
            ]
        },
        {
            "questionIndices": [
                0
            ],
            "focusLabels": [],
            "focusComponents": [
            ],
            "messages": [
                {
                    "text": "現在のパスワードを取得できました。",
                    "languages": [
                    ]
                }
            ]
        },
        {
            "questionIndices": [],
            "focusLabels": [],
            "focusComponents": [
                [11, 12, 13]
            ],
            "messages": [
                {
                    "text": "次にこちらも問題が含まれているため空欄がありますが、この赤枠で囲まれた部分で先ほど取得した現在のパスワードと$_SESSIONに保存されていたユーザIDを用いてauth.phpで定義されていたisExists関数を用いて認証を行います。",
                    "languages": ["php"]
                }
            ]
        },
        {
            "questionIndices": [
                1
            ],
            "focusLabels": [],
            "focusComponents": [
            ],
            "messages": [
                {
                    "text": "ユーザの認証を行うことができました。",
                    "languages": [
                    ]
                }
            ]
        },
        {
            "questionIndices": [],
            "focusLabels": [],
            "focusComponents": [
                [
                    15
                ]
            ],
            "messages": [
                {
                    "text": "この赤枠で囲まれた部分で認証に失敗しているかどうかを確認しています。",
                    "languages": [
                        "html"
                    ]
                }
            ]
        },
        {
            "questionIndices": [],
            "focusLabels": [],
            "focusComponents": [
                [
                    18
                ]
            ],
            "messages": [
                {
                    "text": "もし、認証に失敗した場合つまり、$_SESSIONにユーザIDが保存されていないもしくは、パスワードが正しくない場合には処理を中断しています。",
                    "languages": ["php"]
                }
            ]
        },
        {
            "questionIndices": [
                
            ],
            "focusLabels": [],
            "focusComponents": [],
            "messages": [
                {
                    "text": "これで体験編で見たCSRF攻撃への対策を行うことができました。",
                    "languages": []
                },
                {
                    "text": "それではプレビューを確認して攻撃が成立しないことを見ていきましょう。",
                    "languages": []
                }
            ]
        }
    ]
}